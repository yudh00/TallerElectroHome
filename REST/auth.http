@uriAuth = http://localhost:8000/api/auth
@uriUser = http://localhost:8000/api/user
@uriAdmin = http://localhost:8000/api/administrador
@uriOficinista = http://localhost:8000/api/oficinista
@uriArtefacto = http://localhost:8000/api/artefacto
@uriTecnico = http://localhost:8000/api/tecnico
@token = Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJsb2NhbGhvc3QiLCJpYXQiOjE3NTEyMjYyNDYsImV4cCI6MTc1MTIyNjY0Niwic3ViIjoiMjIyIiwicm9sIjoiNCIsIm5vbSI6Inl1ZGgifQ.bJOqA-8v-HTFUfpp3f_HXlSQMB3cOLQJKPlYSPriePY
PATCH {{uriAuth}}
Content-Type: application/json

{
  "idUsuario": "1",
  "passw": "1"
}

###
###
POST {{uriArtefacto}}
Content-Type: application/json

{
  "idCliente": "11",
  "serie": "L200",
  "marca": "LG",
  "modelo": "2025",
  "categoria": "TV",
  "descripcion": "Televisor LG modelo 2025 para cliente principal"
}
###
###
#cambiar contraseña
PATCH {{uriUser}}/change/222
Content-Type: application/json

{
  "passw": "222",
  "passwN": "11"
}

###
PATCH {{uriAuth}}/refrescar
Content-Type: application/json

{
  "idUsuario": "1",
  "tkRef": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJsb2NhbGhvc3QiLCJpYXQiOjE3NTA4NjUzMTUsInJvbCI6IjQiLCJub20iOiJzZGEifQ.vU9a2YMnrQOUqTeGvEBP8-fTBpoyLUNv-Phcpa6jS7g"
}

###

###

DELETE {{uriAuth}}/2

###

###

@uriCliente = http://localhost:8000/api/cliente
GET {{uriCliente}}/2
Content-Type: application/json
Authorization: {{token}}

###

GET {{uriCliente}}/1
Content-Type: application/json

###

POST {{uriCliente}}
Content-Type: application/json

{
  "idCliente": 11,
  "nombre": "yudh",
  "apellido1": "han",
  "apellido2": "sell",
  "telefono": "25541234",
  "celular": "86349876",
  "direccion": "UCR",
  "correo": "yudh@gmail.com"
}

###
###
POST {{uriOficinista}}
Content-Type: application/json

{
  "idCliente": 22,
  "nombre": "oficinista",
  "apellido1": "oficinista",
  "apellido2": "oficinista",
  "telefono": "00002222",
  "celular": "00002222",
  "direccion": "Limon",
  "correo": "oficinista@gmail.com"
}
###
###
POST {{uriTecnico}}
Content-Type: application/json

{
  "idCliente": 33,
  "nombre": "tecnico",
  "apellido1": "tecnico",
  "apellido2": "tecnico",
  "telefono": "00003333",
  "celular": "00003333",
  "direccion": "Limon",
  "correo": "tecnico@gmail.com"
}
###
###

POST {{uriAdmin}}
Content-Type: application/json
Authorization: {{token}}

{
	"idAdministrador": 1,
	"nombre": "admin",
	"apellido1": "admin",
	"apellido2": "admin",
	"telefono": "00000000",
	"celular": "00000000",
	"direccion": "Limon",
	"correo": "admin@gmail.com"
}

###
GET http://localhost:8000/api/user/1
###

# Probar cambio de estado de caso
POST http://localhost:8000/api/caso/estado/1
Content-Type: application/json

{
  "estado": 3,
  "descripcion": "Reparación completada correctamente",
  "idResponsable": "43"
}

###

# Probar cambio de estado de caso con técnico válido
PUT http://localhost:8000/casos/1/estado
Content-Type: application/json

{
  "estado": 1,
  "descripcion": "Iniciando diagnóstico del dispositivo",
  "idResponsable": "43"
}

###

# Probar cambio de estado de caso con responsable inválido (NO es técnico)
PUT http://localhost:8000/casos/1/estado
Content-Type: application/json

{
  "estado": 1,
  "descripcion": "Intentando cambio con usuario no técnico",
  "idResponsable": "admin123"
}

###

# Probar cambio de estado de caso sin idResponsable
PUT http://localhost:8000/casos/1/estado
Content-Type: application/json

{
  "estado": 1,
  "descripcion": "Intentando cambio sin responsable"
}

###

# Probar cambio de estado a ENTREGADO (debe actualizar fechaSalida)
PUT http://localhost:8000/casos/4/estado
Content-Type: application/json

{
  "estado": 4,
  "descripcion": "Caso entregado al cliente - actualizando fecha de salida",
  "idResponsable": "43"
}

###

# Probar eliminación de caso (debería fallar si tiene historial)
DELETE http://localhost:8000/api/caso/4

###

# Probar eliminación de caso con historial
DELETE http://localhost:8000/api/caso/4/completo

###

# Probar filtrado con paginación - página 0, límite 2
GET http://localhost:8000/api/caso/filtrar/0/2
Content-Type: application/json

###

# Probar filtrado con paginación - página 1, límite 2
GET http://localhost:8000/api/caso/filtrar/1/2
Content-Type: application/json

###

# Probar obtener número total de registros
GET http://localhost:8000/api/caso/numRegs
Content-Type: application/json